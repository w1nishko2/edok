# üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–µ—Ä–æ–≤ Povar.ru

## –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (5 –º–∏–Ω—É—Ç)

```bash
# 1. –°–æ–±–µ—Ä–∏—Ç–µ 5 URL —Å–∞–ª–∞—Ç–æ–≤
php artisan recipes:collect-urls salad --count=5

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
php test-parser.php

# 3. –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—á–µ—Ä–µ–¥—å
php artisan recipes:process-queue
```

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

### ‚úÖ test-parser.php –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å:
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞
- ‚úÖ Slug
- ‚úÖ –í—Ä–µ–º—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ä—Ü–∏–π
- ‚úÖ –†–µ–π—Ç–∏–Ω–≥ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ü–µ–Ω–æ–∫
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ
- ‚úÖ **–ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤: > 0**
- ‚úÖ **–®–∞–≥–æ–≤: > 0** (–ò–°–ü–†–ê–í–õ–ï–ù–û!)
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã

### ‚úÖ –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É `recipes`:
```sql
SELECT id, title, slug, total_time, servings, rating
FROM recipes
ORDER BY id DESC
LIMIT 5;
```

### ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:
```bash
ls -la storage/app/public/recipes/
```

## –ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: –®–∞–≥–æ–≤: 0
**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–ª–µ–Ω –ø–∞—Ä—Å–µ—Ä –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã `div.detailed_step_description_big`

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤: 0
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å `<li itemprop="recipeIngredient">`

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è
**–ü—Ä–æ–≤–µ—Ä–∫–∞**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å `<span itemprop="recipeCategory">`

## –õ–æ–≥–∏

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ `storage/logs/laravel.log`:

```bash
tail -f storage/logs/laravel.log
```

–ü—Ä–∏–º–µ—Ä —É—Å–ø–µ—à–Ω–æ–≥–æ –ª–æ–≥–∞:
```
[2024-01-15 10:00:00] local.INFO: –ü–∞—Ä—Å–∏–Ω–≥ —Ä–µ—Ü–µ–ø—Ç–∞: https://povar.ru/recipes/...
[2024-01-15 10:00:01] local.INFO: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: https://img.povar.ru/...
[2024-01-15 10:00:02] local.INFO: ‚úÖ –ù–∞–π–¥–µ–Ω–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π: 1 - –°–∞–ª–∞—Ç—ã
[2024-01-15 10:00:02] local.INFO: –†–µ—Ü–µ–ø—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω: –°–∞–ª–∞—Ç "–ú–∏–º–æ–∑–∞"
```

## –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π

```bash
# –°–æ–±—Ä–∞—Ç—å –ø–æ 10 —Ä–µ—Ü–µ–ø—Ç–æ–≤ –∏–∑ –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
php artisan recipes:collect-urls --count=10

# –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤—Å—é –æ—á–µ—Ä–µ–¥—å
php artisan recipes:process-queue --limit=100

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
php artisan queue:stats
```

‚úÖ **–í–°–ï –ì–û–¢–û–í–û –ö –†–ê–ë–û–¢–ï!**
